1.Components 라이프 사이클
--


참고 : https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/

해당 다이어그램은 리액트에서 제공하는 생명주기 도표입니다.<br>  설명 : 인간에게는 생명주기가 있습니다.<br>
어머니의 뱃속에서 태아로 시작하여 유년기와 청소년기 청년기 노년기 등을 거쳐 생을 마감하는 것과 같이
리액트에도 라이프 사이클 즉 생명주기라는 것이 존재합니다.

리액트의 생명주기는 다음 그림과 같습니다.

최대한 간략하게 설명하자면 이를 라이프사이클 메소드라고도 하는데

 LifeCycle Method , "생명주기 메소드"
: 컴포넌트가 브라우저 상에 나타나고(마운트),업데이트 되고, 사라지게 될 때 (언마운트) 
호출되는 메소드들이며 , 
클래스형 컴포넌트에서만 사용할 수 있다. <br>현재는 함수형 컴포넌트를 사용합니다.

즉 다시 한번 정리하면 리액트 컴포넌트의 생성부터 소멸 == 라이프 사이클(생명주기)

큰 흐름으로 살펴보면 다음과 같이 생성 될 때 
- 컴포넌트 상태 등 초기화 작업 완료 후 컴포넌트 객체가 생성되는데 이를 constructor 메소드를 통해서 이루어지며
- 리액트 엘리먼트를 이용해 가상돔을, 그리고 실제돔에 반영되는 과정이 render메소드를 통해서 이루어지고
- 이를 통해 돔에 반영되는 것을 마운트된다 라고 합니다.
	 마운트 완료 후 이벤트 바인딩 or 외부 데이터를 가져오는 등의 작업 수행하며 (Did-mount에 해당하게 됩니다. )
- 생성될 때 뿐만 아니라 업데이트가 이루어질 때도 리액트의 특성상 state (상태)값이 변하면 render 메소드가 호출되어 변경된 state 가 반영되어 화면에 나타나게 됩니다.
- 컴포넌트가 사라지기 전에 즉 마운트 직전 이벤트 핸들러를 제거하는 등 리소스 작업 제거하는 과정이 unmount 메소드를 통해 이루어지며 
- 마지막으로 컴포넌트는 본인의 삶을 마감하게 됩니다.

해당 라이프사이클을 각각의 역할에 대해 조금 더 자세하게 살펴보면 다음과 같습니다.


## 마운트
- constructor
- getDerivedStateFromProps
- render
- componentDidMount
	
	> Constructor : 컴포넌트의 생성자 메서드로 컴포넌트가 만들어지면 가장 먼저 실행되는 메서드.
				보통 목적은 컴포트가 마운트 되기 전에  호출되므로 지역 state값을 초기화, 인스턴스에 이벤트 처리 메소드 바인딩합니다(자바스크립트는 클래스메소드에서 기본적으로 바인딩되어 있지  않기때문입니다..) 이를 우리는 함수형태인 화살표  함수를 사용해서 바인딩 호출 없이 사용하기도 합니다. (화살표 란?)
				
	> getDerivedStateFromProps : 최초마운트와(생성) 업데이트 후에 리렌더링할 render메소드 호출 직전에 호출합니다.
					props 로 받아온 것을 setState() 통해서 state에 넣어주고 싶을 때 사용. 
					Return 하는 내용이 state 로 설정이 된다.
							
	> render : 컴포넌트를 렌더링하는 메소드  !
			render() 메서드는 클래스 컴포넌트에서 반드시 구현돼야하는 유일한 메소드이며
			순수하게 컴포넌트의 state 를 변경하지 않아야하고 호출될 때마다 동일하게 결과 반환.
			
	> componentDidMount : 컴포넌트의 첫번째 렌더링이 마치고 나면 호출되는 메소드, 호출되는 시점에 이미  
						렌더링이 완료되어 컴포넌트가 화면에 나타난 상태 DOM 을 사용하거나 axios,fetch 등 의 경우 외부로부터 데이터를 불러오는 네트워크 요청하는 단계
						
						
## 업데이트
- getDerivedStateFromProps
- shouldComponentUpdate
- Render
- getSnapshotBeforeUpdate
- componentDidMount
	
	> getDerivedStateFromProps : 마운트 시와 동일하게 props나 state 가 바뀌었을 때 해당 메소드가 호출됩니다.
		
	> shouldComponentUpdate : 해당 메소드는 컴포넌트가 리렌더링 할지말지에 대한 결정메소드이며 해당 메소드를 통해 현재의 state 또는 props 의 변화가 컴포넌트의 출력 결과에 영향을 미치는지에 대한 여부를 알수 있게합니다.
							
	> Render : 마운트 시와 동일하게 호출됩니다.
		
	> getSnapshotBeforeUpdate: 컴포넌트에 변화가 일어나기 직전의 DOM상태를 가져와 특정 값을 반환하면 이후 발생하는 componentDidUpdate 함수에서 받아와 사용할 수 있게합니다. Default 는 null 을 반환하게 됩니다. 사용례가 흔하지 않지만, 채팅 화면과 같이 스크롤 위치를 따로 처리할 때 사용되며 채팅이 올라와 새로운 내용이 추가되어 state가 바뀔 때 스크롤의 위치를 유지시키는 기능입니다. 이러한 작업이 필요한 UI 에 사용될 수 있습니다.  
    또 특징이 있는데 아직 함수형 컴포넌트 + Hooks 을 사용할 때에 getSnapshotBeforeUpdate 를 대체할 수  있는 기능이 없습니다. 
							결론적으로 DOM에 변화가 반영되기 직전에 DOM 의 속성을 확인하고 싶을 때 사용하는 것으로 이해하면 쉽습니다.
							
	> componentDidMount: 리렌더링이 끝나고 화면에 우리가 원하는 변화가 모두 반영이 된 후에 호출되는 메소드 이 메소드에서 getSnapshotBeforeUpdate 에서 return 해준 값을 조회할 수 있습니다.
					
					
## 언마운트
- componentWillUnmount 
	
	> componentWillUnmount : 화면에서 컴포넌트가 사라지는 것을 의미하는 뜻인 언마운트에 관련된 생명주기 메소드이며 컴포넌트가 화면에서 사라지기 직전에  호출됩니다.
			DOM에 직접 등록한 이벤트를 제거하고 혹시나 setTimeout 과 같은 타이머 기능이 걸려있다면 타이머를 제거하고 네트워크 요청을 취소하는 메소드입니다. 이후 해당 컴포넌트는 다시 렌더링 되지 않으므로 해당 메소드 내에서 state 값을 setState() 를 통해 변경하면 안됩니다. 
			
			
	다음과 같은 과정을 통해 컴포넌트는 생애를 마감하게됩니다.
		
----
번외
--
> 상태 (state):   
컴포넌트에서  '동적으로 변할 수 있는 것'을 상태라 하며 이 상태가 변함에 따라새로운 값을 화면에 보이도록한다.
즉, 상태는 애플리케이션의 렌더링에 영향을 미치는 것들 !

> DOM :
Document Object Model ,
HTML,XML 웹 문서를 구조화하여 표현하는 인터페이스. 프로그래밍 언어와 웹 페이지를 연결<br>Ex ) document.getElementById('root')